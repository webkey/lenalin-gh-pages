!function(n){"use strict";function a(e,s){var t=this;t.element=e,t.config=s,t.mixedClasses={initialized:l+" "+(s.modifiers.initClass||""),active:c+" "+(s.modifiers.activeClass||""),scrollFixedClass:"css-scroll-fixed"},t.$switchClassTo=n(s.toggleEl).add(s.addEl).add(s.removeEl).add(s.switchClassTo),t._classIsAdded=!1}var t=0,i="swc-instance",l="swc-initialized",c="swc-active",o="swc-prevent-remove";n.extend(a.prototype,{callbacks:function(){var i=this;n.each(i.config,function(e,t){"function"==typeof t&&n(i.element).on("switchClass."+e,function(e,s){return t(e,n(i.element),s)})})},prevent:function(e){return e.preventDefault(),e.stopPropagation(),!1},toggleFixedScroll:function(){n("html").toggleClass(this.mixedClasses.scrollFixedClass,!!t)},add:function(){var e=this,s=e.config.selector?n(e.config.selector):n(e.element);e._classIsAdded||(s.trigger("switchClass.beforeAdd").trigger("switchClass.beforeChange"),e.config.removeExisting&&n.switchClass.remove(!0),s.add(e.$switchClassTo).addClass(e.mixedClasses.active),s.addClass(i).data("SwitchClass",e),e._classIsAdded=!0,e.config.cssScrollFixed&&(++t,e.toggleFixedScroll()),s.trigger("switchClass.afterAdd").trigger("switchClass.afterChange"))},remove:function(){var e=this,s=e.config.selector?n(e.config.selector):n(e.element);e._classIsAdded&&(s.trigger("switchClass.beforeRemove").trigger("switchClass.beforeChange"),s.add(e.$switchClassTo).removeClass(e.mixedClasses.active),s.removeClass(i).removeData("SwitchClass"),e._classIsAdded=!1,e.config.cssScrollFixed&&(--t,e.toggleFixedScroll()),s.trigger("switchClass.afterRemove").trigger("switchClass.afterChange"))},events:function(){var s=this;function e(e){if(s._classIsAdded)return s.remove(),e.preventDefault(),!1;s.add(),s.prevent(e)}s.config.selector?n(s.element).off("click",s.config.selector).on("click",s.config.selector,e):n(s.element).off("click").on("click",e),n(s.config.toggleEl).on("click",e),n(s.config.addEl).on("click",function(e){s.add(),s.prevent(e)}),n(s.config.removeEl).on("click",function(e){s.remove(),s.prevent(e)})},removeByClickOutside:function(){var s=this;n("html").on("click",function(e){n(e.target).closest("."+o).length||n(e.target).closest("[data-swc-prevent-remove]").length||s.config.preventRemoveClass&&n(e.target).closest("."+s.config.preventRemoveClass).length||s._classIsAdded&&s.config.removeOutsideClick&&s.remove()})},removeByClickEsc:function(){var s=this;n("html").keyup(function(e){s._classIsAdded&&s.config.removeEscClick&&27===e.keyCode&&s.remove()})},init:function(){var e=this,s=e.config.selector?n(e.config.selector):n(e.element);(s.hasClass(e.config.modifiers.activeClass)||s.hasClass(c))&&e.add(),s.addClass(e.mixedClasses.initialized),s.trigger("switchClass.afterInit")}}),n.switchClass={version:"2.0",getInstance:function(e){var s=n("."+i+"."+c+":last").data("SwitchClass"),t=Array.prototype.slice.call(arguments,1);return s instanceof a&&("string"===n.type(e)?s[e].apply(s,t):"function"===n.type(e)&&e.apply(s,t),s)},remove:function(e){var s=this.getInstance();s&&(s.remove(),!0===e&&this.remove(e))}},n.fn.switchClass=function(e){var s,t,i,l=this,c=Array.prototype.slice.call(arguments,1),o=l.length;for(s=0;s<o;s++)if("object"==typeof e||void 0===e?(l[s].switchClass=new a(l[s],n.extend(!0,{},n.fn.switchClass.defaultOptions,e)),(i=l[s]).switchClass.callbacks(),i.switchClass.events(),i.switchClass.removeByClickOutside(),i.switchClass.removeByClickEsc(),i.switchClass.init()):t=l[s].switchClass[e].apply(l[s].switchClass,c),void 0!==t)return t;return l},n.fn.switchClass.defaultOptions={removeExisting:!1,selector:null,addEl:null,removeEl:null,toggleEl:null,switchClassTo:null,removeOutsideClick:!0,removeEscClick:!0,cssScrollFixed:!1,preventRemoveClass:null,modifiers:{initClass:null,activeClass:"active"}}}(jQuery);