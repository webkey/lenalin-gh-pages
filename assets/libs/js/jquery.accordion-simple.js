!function(t,d){function l(i,n){function a(i){if(i.length){var e=arguments[1];if(c.trigger("accordionSimple.beforeOpen"),i.closest(n.block).addClass(n.modifiers.activeClass),i.parentsUntil(c,n.panel+":hidden").show().data("active",!0).attr("data-active",!0).end().parentsUntil(c,n.block).addClass(n.modifiers.activeClass).end().slideDown(n.duration,function(){d(this).data("active",!0).attr("data-active",!0),c.trigger("accordionSimple.afterOpen"),"function"==typeof e&&e()}),r){var t=i.parentsUntil(c,n.block).siblings().find(n.panel).filter(function(){return d(this).data("active")});s(t,function(){l=!1})}}}function o(i){if(i.length){if(r){var e=d(n.panel,i).filter(function(){return d(this).data("active")});s(e)}c.trigger("accordionSimple.beforeClose");var t=arguments[1];s(i,function(){c.trigger("accordionSimple.afterClose"),"function"==typeof t&&t()})}}var c=d(i),l=(d(t),d("html"),!1),e=c.attr("data-clap-collapsed"),r="true"===e||"false"===e?"true"===e:n.collapsed,s=function(i){var e=arguments[1];i.closest(n.block).removeClass(n.modifiers.activeClass),i.slideUp(n.duration,function(){d(this).data("active",!1).attr("data-active",!1),c.trigger("accordionSimple.afterEachClose"),"function"==typeof e&&e()})};return{callbacks:function(){d.each(n,function(i,t){"function"==typeof t&&c.on("accordionSimple."+i,function(i,e){return t(i,c,e)})})},togglePanel:function(){d(n.switcher).on("click",function(i){if(n.destroy&&("function"==typeof n.destroy.condition?n.destroy.condition():n.destroy.condition))return;if(l)return i.preventDefault(),!1;var e=d(this);if(!e.closest(n.block).has(n.panel).length)return!1;l=!0,i.preventDefault();var t=e.closest(n.switcher).siblings(n.panel);(t.data("active")?o:a)(t,function(){l=!1})})},open:a,close:o,init:function(){if(d(n.panel,c).filter(":visible").show().data("active",!0).attr("data-active",!0),n.pluginClasses){c.addClass(f.element),d(n.block,c).addClass(f.block);var i=d(n.switcher,c);i.addClass(f.switcher),d(n.panel,c).addClass(f.panel)}n.switchersTabindex&&i.addClass(f.switchersTabindex).attr("tabindex",0),c.toggleClass(f.initClass,n.pluginClasses),c.trigger("accordionSimple.afterInit")}}}var i="jsAccordionSimple",f={element:i,initClass:i+"_initialized",block:i+"__block",switcher:i+"__switcher",panel:i+"__panel"};d.fn.accordionSimple=function(){var i,e,t,n=this,a=arguments[0],o=Array.prototype.slice.call(arguments,1),c=n.length;for(i=0;i<c;i++){if("object"==typeof a||void 0===a){if(n[i].accordionSimple)return;n[i].accordionSimple=new l(n[i],d.extend(!0,{},d.fn.accordionSimple.defaultOptions,a)),(t=n[i]).accordionSimple.callbacks(),t.accordionSimple.togglePanel(),t.accordionSimple.init()}else e=n[i].accordionSimple[a].apply(n[i].accordionSimple,o);if(void 0!==e)return e}return n},d.fn.accordionSimple.defaultOptions={block:"li",switcher:"li > em",panel:"ul",collapsed:!0,duration:300,switchersTabindex:!1,destroy:!1,modifiers:{activeClass:"is-open"}}}(window,(document,jQuery));