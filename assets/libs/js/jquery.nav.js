!function(h,e,g){"use strict";function s(e,r){var n,a,i,s=g(e),o=g("html"),t=!1;function c(e,i){g.each(e,function(){var n=g(this),e=n.closest(r.item);n.position({my:"left top",at:i,collision:"flip flip",of:e,using:function(e,i){var o,t,r;o=e,t=i,f(r=n),r.addClass(t.horizontal+" "+t.vertical+" "+t.important).css(o)}})})}function l(){var e=s.children(r.item).children(r.drop),i=e.find(r.drop);r.accordionView&&h.innerWidth<r.accordionView.breakpoint?(e.add(i).css({position:"",top:"",right:"",bottom:"",left:""}),f(e.add(i))):(c(e,r.submenuPosition.firstLevel),c(i,r.submenuPosition.deeperLevel))}function v(){var e=arguments[0]||g(r.item,s),i=e.prop("addClassWithTimeout");i&&e.prop("addClassWithTimeout",clearTimeout(i))}function u(){var e=arguments[0]||g(r.item,s),i=e.prop("removeClassWithTimeout");i&&e.prop("removeClassWithTimeout",clearTimeout(i))}function d(){var e=arguments[0]||g(r.item,s),i=arguments[1];g.each(e,function(){var e=g(this);u(e),e.prop("isActive")&&p(e),i&&g.each(e.find(r.item),function(){var e=g(this);u(e),e.prop("isActive")&&p(e)})})}n=a=r.timeout,"object"==typeof r.timeout&&(n=r.timeout.add,a=r.timeout.remove),b.on("resize scroll",function(e){clearTimeout(i),i=setTimeout(function(){"resize"===e.handleObj.origType&&b.trigger("rangeResize"),"scroll"===e.handleObj.origType&&b.trigger("rangeScroll")},300)});var f=function(e){e.removeClass("top").removeClass("right").removeClass("bottom").removeClass("left").removeClass("center").removeClass("horizontal").removeClass("vertical")},m=function(){var e=arguments[0];e.length&&(r.submenuPosition&&l(),e.addClass(r.modifiers.hover).prop("isActive",!0),r.siblings&&(e.next().addClass(r.modifiers.hoverNext),e.prev().addClass(r.modifiers.hoverPrev)),t=!0,s.trigger("nav.afterHover",e))},p=function(){var e=arguments[0]||g(r.item,s);e.length&&(e.removeClass(r.modifiers.hover).prop("isActive",!1),r.siblings&&(e.next().removeClass(r.modifiers.hoverNext),e.prev().removeClass(r.modifiers.hoverPrev)),t=!1,s.trigger("nav.afterLeave",e))};return{callbacks:function(){g.each(r,function(e,o){"function"==typeof o&&s.on("nav."+e,function(e,i){return o(e,s,i)})})},recalculateDropPosition:function(){r.submenuPosition&&r.submenuPosition.observe&&(b.on("rangeResize",function(){l()}),b.on("rangeScroll",function(){l()}))},toggleActiveClass:function(){var t=g(r.item,s);s.off("touchend mouseenter mouseleave",r.item).on("touchend mouseenter mouseleave",r.item,function(e){var i=g(this);if(!(r.accordionView&&h.innerWidth<r.accordionView.breakpoint)&&(!r.onlyHasDrop||i.has(r.drop).length)){var o=i.parentsUntil(s,r.item);if("touchend"===e.handleObj.origType&&!r.arrowEnable&&!i.prop("isActive")){if(e.stopEventTouchend||(e.stopEventTouchend=!0,p(t.filter("."+r.modifiers.hover).not(i))),!i.has(r.drop).length)return;return m(i),void e.preventDefault()}if("mouseenter"===e.handleObj.origType){if(u(i),e.stopEventMouseenter)return;if(e.stopEventMouseenter=!0,i.prop("isActive"))return;return d(t.filter("."+r.modifiers.hover).not(i).not(o)),void function(){var e=arguments[0]||g(r.item,s);e.prop("addClassWithTimeout",setTimeout(function(){m(e)},n))}(i)}"mouseleave"===e.handleObj.origType&&(v(i),function(){var e=arguments[0]||g(r.item,s);e.prop("removeClassWithTimeout",setTimeout(function(){p(e)},a))}(i))}}),r.arrowEnable&&s.off("click keydown",r.arrow).on("click keydown",r.arrow,function(e){if(!(r.accordionView&&h.innerWidth<r.accordionView.breakpoint||1!==e.which&&13!==e.which&&37!==e.which&&38!==e.which&&39!==e.which&&40!==e.which)){var i=g(this).closest(r.item);if(!r.onlyHasDrop||i.has(r.drop).length){if(i.prop("isActive"))d(i,!0);else{var o=i.parentsUntil(s,r.item);d(t.filter("."+r.modifiers.hover).not(i).not(o)),function(){var e=arguments[0]||g(r.item,s);g.each(e,function(){var e=g(this);v(e),e.prop("isActive")||m(e)})}(i)}e.preventDefault()}}})},clearHoverClassOnResize:function(){var i=-1;b.on("rangeResize",function(){var e=g("body").outerWidth();i!==e&&(p(g(r.item,s).filter("."+r.modifiers.hover)),i=e)})},removeByClickOutside:function(){o.on("click",function(e){t&&!g(e.target).closest(g(r.item)).length&&d()})},removeByClickEsc:function(){return o.keyup(function(e){t&&27===e.keyCode&&d()}),!1},init:function(){s.addClass(C.element),g(r.item,s).addClass(C.item),g(r.drop,s).addClass(C.drop);var e=g(r.arrow,s);e.addClass(C.arrow),r.arrowEnable&&e.addClass(C.arrowEnable).attr("tabindex",0),r.submenuPosition&&l(),s.accordionSimple({block:r.item,switcher:r.arrow,panel:r.drop,duration:r.accordion.duration,switchersTabindex:!1,destroy:{condition:function(){return r.accordionView&&h.innerWidth>=r.accordionView.breakpoint}},pluginClasses:!1,modifiers:{activeClass:r.accordion.classOpen}}),s.addClass(C.initClass),s.trigger("nav.afterInit")}}}var b=g(h),i=(g(e),"jsNav"),C={element:i,initClass:i+"_initialized",item:i+"__item",drop:i+"__drop",arrow:i+"__arrow",arrowEnable:i+"__arrow_on"};g.fn.nav=function(){var e,i,o,t=this,r=arguments[0],n=Array.prototype.slice.call(arguments,1),a=t.length;for(e=0;e<a;e++){if("object"==typeof r||void 0===r){if(t[e].nav)return;t[e].nav=new s(t[e],g.extend(!0,{},g.fn.nav.defaultOptions,r)),(o=t[e]).nav.callbacks(),o.nav.recalculateDropPosition(),o.nav.toggleActiveClass(),o.nav.clearHoverClassOnResize(),o.nav.removeByClickOutside(),o.nav.removeByClickEsc(),o.nav.init()}else i=t[e].nav[r].apply(t[e].nav,n);if(void 0!==i)return i}return t},g.fn.nav.defaultOptions={item:"li",drop:"ul",arrow:"li > a + em",onlyHasDrop:!1,siblings:!1,timeout:50,submenuPosition:{firstLevel:"left bottom",deeperLevel:"right top",observe:!1},arrowEnable:!1,accordionView:{breakpoint:992},accordion:{classOpen:"is-open",duration:300},modifiers:{hover:"hover",hoverNext:"hover_next",hoverPrev:"hover_prev"}}}(window,document,jQuery);